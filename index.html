<!DOCTYPE html>
<html>
<head>
  <title>AR-ZINE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta charset="UTF-8">
  <meta name="description" content="第21回東京大学制作展の作品AR-ZINEが提供する、会場パンフレットと連動して鑑賞いただけるARコンテンツです。">

  <!-- a-frame -->
  <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
  <!-- 8thwall -->
  <script src="//cdn.8thwall.com/web/aframe/8frame-0.9.0.min.js"></script>
  <script async
    src="//apps.8thwall.com/xrweb?appKey=f75raQKIZzThGaX1FKSRLQ2xjnfWqWdqj3MmokvJlN1R6x3YCX8jCv7VO9MQpf3xuslRMc"></script>
  <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>
  <script defer src="//cdn.8thwall.com/web/aframe/aframe-animation-component-5.1.2.min.js"></script>
  <!-- aframe-extras -->
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.2.0/dist/aframe-extras.min.js"></script>
  <!-- event.js -->
  <script src="https://rawgit.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-click-events/events.js"></script>
  <!-- look-at component -->
  <script src="https://unpkg.com/aframe-look-at-component@0.8.x/dist/aframe-look-at-component.min.js"></script>
  <!-- html-shader and html2canvas -->
  <script src="./script/aframe-html-shader.min.js"></script>
  <script src="./script/html2canvas.min.js"></script>

  <!-- custom scripts -->
  <script src="./script/index.js"></script>
  <script src="./script/load.js"></script>
  <script src="./script/cover.js"></script>
  <script src="./script/map.js"></script>

  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <link href="https://fonts.googleapis.com/css?family=M+PLUS+1p" rel="stylesheet">
</head>

<body>
  <div id="loading" >
    <div id="loading-text">
      第21回東大制作展 ああ言えばこう言う。こう言えばどう言う？
    </div>
  </div>

  <a-scene
    xrweb
    xrextras-almost-there
    xrextras-runtime-error
    xrextras-gesture-detector
    hide-after-load 
    renderer="gamma-output:true"
    antialias="true">

    <!-- xrextras-tap-recenter -->
    <!-- close-button -->

    <!-- read assets -->
    <a-assets>
      <a-asset-item id="venueModel" src="./assets/models/map/venue.gltf"></a-asset-item>
      <a-mixin id="sns" animation__mouseenter="property: scale; to: 1.0 1.0 1.0; dur: 200; startEvents: mouseenter"
        animation__mouseleave="property: scale; to: 0.1 0.1 0.1; dur: 200; startEvents: mouseleave"></a-mixin>
      <a-mixin id="appearAnimation"
        animation="property: object3D.position.y; from: -3; to: 0; dur: 3000; easing: easeOutElastic;"
        animation__visible="property: material.opacity; from: 0.0; to: 1.0; dur: 1000" material="transparent: true"></a-mixin>
      <a-mixin id="toggleAnimation" animation="property: visible; from: false; to: true; dur: 1" visible="false"></a-mixin>
    </a-assets>

    <!-- camera settings -->
    <!-- <a-camera id="camera" position="0 4 10" raycaster="objects: .cantap">
      <a-entity cursor="fuse: true;" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
        material="color: blue; shader: flat">   
      </a-entity>
    </a-camera> -->

    <!-- カメラ設定 -->
    <!-- If you use tap action, add rayer-target:mouse to cursor property -->
    <a-entity id="rig" position="0 0 3">
      <a-camera id="camera" reverse-mouse-drag="true">
        <a-entity raycaster="objects: .cantap" position="0 0 -1" cursor="fuse: true;"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: #F06666; shader: flat">
        </a-entity>
      </a-camera>
    </a-entity>

    <!-- light settings -->
    <a-light type="ambient" intensity="1.3"></a-light>
    <a-light type="directional" intensity="3" position="1.5 2.5 0.6"></a-light>

    <a-entity id="venue" scale="0.4 0.4 0.4" position="0 -1 -2" rotation="0 30 0" xrextras-one-finger-rotate>
      <!-- xrextras-named-image-target="name: map" -->
      <a-entity gltf-model="#venueModel" scale="0.5 0.5 0.5" position="0 0 -3" shadow play-all-model-animations></a-entity>
      <a-sphere material="color: #FF5721" position="0 0 0" show-detail="imgid: #title1" class="cantap"></a-sphere>
      <a-sphere material="color: #FFFFFF" position="0 0 3" show-detail="imgid: #title1"></a-sphere>
    
      <a-sphere material="color: #FF5721" position="1.45335 5.26132 -4.16738" geometry="" scale="0.1 0.1 0.1"
        show-detail="imgid: #title1"></a-sphere>
      <a-sphere material="color: #FF5721" position="1.45335 5.26132 -4.16738" geometry="" scale="0.1 0.1 0.1"></a-sphere>
      <a-sphere material="color: #FF5721" position="1.44411 5.3111 -3.78809" geometry="" scale="0.1 0.1 0.1"></a-sphere>
      <a-sphere material="color: #FF5721" position="1.06853 5.32919 -3.83261" geometry="" scale="0.1 0.1 0.1"></a-sphere>
      <a-sphere material="color: #FF5721" position="0.70677 5.27943 -3.80035" geometry="" scale="0.1 0.1 0.1"></a-sphere>
      <a-sphere material="color: #FF5721" position="0.7114 5.29184 -4.21623" geometry="" scale="0.1 0.1 0.1"></a-sphere>
      <a-sphere material="color: #FF5721" position="0.71 5.25624 -4.53762" geometry="" scale="0.1 0.1 0.1"></a-sphere>
    
      <a-sphere mixin="sns" material="color: #F06191" scale="0.1 0.1 0.1" position="0 0.17476 -3.00098"
        show-detail="imgid: #title1" class="cantap"></a-sphere>
    </a-entity>

  </a-scene>
</body>
</html>
